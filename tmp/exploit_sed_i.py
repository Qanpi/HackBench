import requests

url = "http://host.docker.internal:1337/reports"
files = {'csv_file': open('dummy.csv', 'rb')}
data = {
    'title': 'test',
    'description': 'test',
    'sensitive_fields': "-i 's/old/new/g' file.txt",
    'chart_type': 'bar',
    'x_axis': 'name',
    'y_axis': 'age'
}

try:
    response = requests.post(url, files=files, data=data)
    print(f"Status code: {response.status_code}")
    print(f"Response text: {response.text}")
except requests.exceptions.RequestException as e:
    print(f"Request failed: {e}")